<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clarity | Study with Absolute Power</title>
    <link rel="icon" href="Clarity Logo.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background: #fcfcfc; color: #0f172a; }
        .glass-nav { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(0,0,0,0.05); }
        .hero-gradient { background: radial-gradient(circle at 0% 0%, rgba(99, 102, 241, 0.08) 0%, transparent 50%), radial-gradient(circle at 100% 100%, rgba(244, 63, 94, 0.05) 0%, transparent 50%); }
        .pricing-card { border-radius: 3rem; transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); background: white; }
        .pricing-card:hover { transform: translateY(-15px) scale(1.02); box-shadow: 0 50px 100px rgba(0,0,0,0.06); }
        .auth-input { background: #f1f5f9; transition: all 0.3s ease; border: 2px solid transparent; }
        .auth-input:focus { background: white; border-color: #6366f1; box-shadow: 0 0 0 8px rgba(99, 102, 241, 0.1); }
        .floating { animation: float 6s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
    </style>
</head>
<body class="hero-gradient min-h-screen">
    <nav class="fixed top-0 w-full z-50 glass-nav px-8 py-8 flex justify-between items-center">
        <div class="flex items-center gap-6">
            <img src="Clarity Logo.png" class="h-20 w-auto floating" alt="Clarity Logo">
            <span class="font-black text-4xl tracking-tighter italic">Clarity.</span>
        </div>
        <div class="hidden lg:flex gap-12 font-bold text-slate-400 text-lg">
            <a href="#features" class="hover:text-indigo-600 transition">Features</a>
            <a href="#pricing" class="hover:text-indigo-600 transition">Pricing</a>
            <a href="#" class="hover:text-indigo-600 transition">About</a>
        </div>
        <button onclick="toggleAuth(true)" class="bg-black text-white px-12 py-5 rounded-full font-black text-xl shadow-[0_20px_40px_rgba(0,0,0,0.2)] hover:bg-indigo-600 transition-all active:scale-95">Log In</button>
    </nav>

    <section id="features" class="pt-72 pb-32 px-6 text-center max-w-7xl mx-auto">
        <div class="inline-block bg-indigo-100 text-indigo-700 px-8 py-3 rounded-full font-black text-sm tracking-widest uppercase mb-10">The Future of Study</div>
        <h1 class="text-8xl md:text-[130px] font-black tracking-tighter leading-[0.8] mb-14">Your brain, <br><span class="text-indigo-600">supercharged.</span></h1>
        <p class="text-3xl text-slate-500 font-medium mb-20 max-w-3xl mx-auto leading-relaxed text-balance">Clarity turns your messy notes into beautiful, high-retention study systems using AI that actually gets you.</p>
        <div class="flex flex-col md:flex-row gap-6 justify-center">
            <button onclick="toggleAuth(true, true)" class="bg-black text-white px-20 py-8 rounded-[2.5rem] font-black text-3xl shadow-2xl hover:scale-105 transition-all active:scale-95">Get Started —></button>
            <button class="bg-white border-4 border-slate-100 px-16 py-8 rounded-[2.5rem] font-black text-3xl hover:bg-slate-50 transition">Watch Demo</button>
        </div>
    </section>

    <section id="pricing" class="py-40 px-6 max-w-7xl mx-auto">
        <h2 class="text-7xl font-black text-center mb-24 tracking-tighter">Choose your power.</h2>
        <div class="grid lg:grid-cols-3 gap-12 items-end">
            <div class="pricing-card p-14 border border-slate-100">
                <h3 class="text-3xl font-black mb-4">Scholar</h3>
                <p class="text-slate-400 font-bold mb-10">Perfect for getting started.</p>
                <div class="text-7xl font-black mb-12">$0<span class="text-2xl text-slate-300">/free</span></div>
                <ul class="space-y-6 mb-16 font-bold text-slate-600 text-xl text-left">
                    <li>✓ 5 AI Projects / mo</li>
                    <li>✓ 100 Flashcards</li>
                    <li>✓ Standard AI Summary</li>
                    <li class="text-slate-300">✕ Priority Support</li>
                </ul>
                <button onclick="toggleAuth(true, true)" class="w-full py-7 rounded-[2rem] bg-slate-100 font-black text-xl hover:bg-slate-200 transition">Current</button>
            </div>
            <div class="pricing-card p-14 border-8 border-indigo-600 scale-110 shadow-[0_60px_100px_rgba(99,102,241,0.15)] bg-white relative">
                <div class="absolute -top-8 left-1/2 -translate-x-1/2 bg-indigo-600 text-white px-10 py-3 rounded-full font-black tracking-tighter text-lg uppercase shadow-xl">Best Value</div>
                <h3 class="text-3xl font-black mb-4">Genius</h3>
                <p class="text-slate-400 font-bold mb-10">For the high-achievers.</p>
                <div class="text-7xl font-black mb-12">$4.99<span class="text-2xl text-slate-300">/mo</span></div>
                <ul class="space-y-6 mb-16 font-bold text-slate-700 text-xl text-left">
                    <li>✓ Unlimited Everything</li>
                    <li>✓ Advanced GPT-4o Models</li>
                    <li>✓ Multi-format Exports</li>
                    <li>✓ Priority 24/7 Support</li>
                </ul>
                <button onclick="toggleAuth(true, true)" class="w-full py-7 rounded-[2rem] bg-indigo-600 text-white font-black text-2xl shadow-xl hover:brightness-110 transition">Go Genius</button>
            </div>
            <div class="pricing-card p-14 bg-black text-white">
                <h3 class="text-3xl font-black mb-4">Legend</h3>
                <p class="text-slate-500 font-bold mb-10">Own Clarity forever.</p>
                <div class="text-7xl font-black mb-12">$14.99</div>
                <ul class="space-y-6 mb-16 font-bold text-slate-400 text-xl text-left">
                    <li>✓ One-time Payment</li>
                    <li>✓ All Future Features</li>
                    <li>✓ Lifetime Pro Badge</li>
                    <li>✓ Alpha Access</li>
                </ul>
                <button onclick="toggleAuth(true, true)" class="w-full py-7 rounded-[2rem] bg-white text-black font-black text-xl hover:bg-indigo-50 transition">Buy Once</button>
            </div>
        </div>
    </section>

    <div id="authModal" class="hidden fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-3xl flex items-center justify-center p-6">
        <div class="bg-white w-full max-w-2xl rounded-[4.5rem] p-20 shadow-2xl relative overflow-hidden">
            <div class="text-center mb-16">
                <img src="Clarity Logo.png" class="h-32 mx-auto mb-8">
                <h2 id="authTitle" class="text-6xl font-black tracking-tighter">Welcome Back.</h2>
                <p id="authSub" class="text-slate-400 font-bold text-xl mt-4">Log in to your dashboard.</p>
            </div>
            <div class="space-y-6">
                <input type="email" id="email" placeholder="Email Address" class="w-full auth-input p-8 rounded-[2.5rem] outline-none font-bold text-2xl">
                <input type="password" id="pass" placeholder="Password" class="w-full auth-input p-8 rounded-[2.5rem] outline-none font-bold text-2xl">
                <button id="mainAction" class="w-full bg-black text-white py-8 rounded-[2.5rem] font-black text-3xl shadow-2xl hover:bg-indigo-600 transition-all mt-6 active:scale-95">Continue</button>
                <div class="text-center mt-10">
                    <p class="text-slate-400 font-bold text-xl">
                        <span id="toggleText">Don't have an account?</span> 
                        <button onclick="toggleMode()" id="toggleBtn" class="text-indigo-600 underline decoration-4 underline-offset-8 ml-2">Sign Up</button>
                    </p>
                </div>
            </div>
            <button onclick="toggleAuth(false)" class="absolute top-12 right-12 text-slate-300 hover:text-black transition text-5xl">&times;</button>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = { apiKey: "AIzaSyAoyilOSkLk7uQVC4znit855wfAwVXU3Uo", authDomain: "clarity-study-cd835.firebaseapp.com", projectId: "clarity-study-cd835", storageBucket: "clarity-study-cd835.firebasestorage.app", messagingSenderId: "92484724607", appId: "1:92484724607:web:d07cbc3f0238264ecf9c4a" };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let isSignUp = false;

        window.toggleAuth = (show, startAsSignUp = false) => {
            isSignUp = startAsSignUp;
            document.getElementById('authModal').classList.toggle('hidden', !show);
            updateUI();
        };

        window.toggleMode = () => {
            isSignUp = !isSignUp;
            updateUI();
        };

        const updateUI = () => {
            document.getElementById('authTitle').innerText = isSignUp ? "Create Account." : "Welcome Back.";
            document.getElementById('authSub').innerText = isSignUp ? "Join 10,000+ students." : "Log in to your dashboard.";
            document.getElementById('toggleText').innerText = isSignUp ? "Already a member?" : "Don't have an account?";
            document.getElementById('toggleBtn').innerText = isSignUp ? "Log In" : "Sign Up";
        };

        document.getElementById('mainAction').onclick = async () => {
            const e = document.getElementById('email').value, p = document.getElementById('pass').value;
            if(!e || !p) return alert("Fields cannot be empty.");
            try {
                if(isSignUp) {
                    const res = await createUserWithEmailAndPassword(auth, e, p);
                    const code = Math.floor(100000 + Math.random() * 900000).toString();
                    await setDoc(doc(db, "users", res.user.uid), { tempCode: code, isVerified: false, email: e, firstTime: true });
                    await fetch('/api/send', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ email: e, code: code }) });
                    window.location.href = "verify.html";
                } else {
                    await signInWithEmailAndPassword(auth, e, p);
                    window.location.href = "workspace.html";
                }
            } catch(err) { alert(err.message); }
        };
    </script>
</body>
</html>
